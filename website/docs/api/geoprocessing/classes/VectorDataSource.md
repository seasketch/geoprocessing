# VectorDataSource\<T\>

## Type Parameters

| Type Parameter |
| ------ |
| `T` *extends* [`Feature`](../interfaces/Feature.md)\<[`Polygon`](../interfaces/Polygon.md) \| [`MultiPolygon`](../interfaces/MultiPolygon.md)\> |

## Constructors

### new VectorDataSource()

```ts
new VectorDataSource<T>(url, options): VectorDataSource<T>
```

VectorDataSource aids client-side or lambda based geoprocessing tools fetch
data from binned static vector sources generated by @seasketch/datasources
commands.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `url` | `string` |  |
| `options` | `Partial`\<[`VectorDataSourceOptions`](../interfaces/VectorDataSourceOptions.md)\> |  |

#### Returns

[`VectorDataSource`](VectorDataSource.md)\<`T`\>

#### Memberof

VectorDataSource

## Methods

### clear()

```ts
clear(): Promise<void>
```

#### Returns

`Promise`\<`void`\>

***

### fetch()

```ts
fetch(bbox): Promise<T[]>
```

Fetches bundles of features within bbox

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `bbox` | [`BBox`](../type-aliases/BBox.md) |  |

#### Returns

`Promise`\<`T`[]\>

***

### fetchBundle()

```ts
fetchBundle(id, priority): Promise<FeatureCollection<Geometry, GeoJsonProperties>>
```

#### Parameters

| Parameter | Type | Default value |
| ------ | ------ | ------ |
| `id` | `number` | `undefined` |
| `priority` | `"high"` \| `"low"` | `"low"` |

#### Returns

`Promise`\<[`FeatureCollection`](../interfaces/FeatureCollection.md)\<[`Geometry`](../type-aliases/Geometry.md), [`GeoJsonProperties`](../type-aliases/GeoJsonProperties.md)\>\>

***

### fetchOverlapping()

```ts
fetchOverlapping(feature): Promise<T[]>
```

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `feature` | [`Feature`](../interfaces/Feature.md)\<[`Geometry`](../type-aliases/Geometry.md), [`GeoJsonProperties`](../type-aliases/GeoJsonProperties.md)\> |

#### Returns

`Promise`\<`T`[]\>

***

### fetchUnion()

```ts
fetchUnion(bbox, unionProperty?): Promise<FeatureCollection<T["geometry"], T["properties"]>>
```

Fetches bundles of subdivided Polygon or MultiPolygon features within bbox and merges
them back into their original features.  Merge performance is faster if passed an
additional unionProperty, a property that exists in each subdivided feature.

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `bbox` | [`BBox`](../type-aliases/BBox.md) |
| `unionProperty`? | `string` |

#### Returns

`Promise`\<[`FeatureCollection`](../interfaces/FeatureCollection.md)\<`T`\[`"geometry"`\], `T`\[`"properties"`\]\>\>

***

### hint()

```ts
hint(bbox): Promise<void>
```

Triggers downloading of indexes and bundles for the defined extent. Bundle
data will only be downloaded if the number of bundles within the extent is
less than options.hintPrefetchLimit.

An ideal use-case for this method is to update the datasource whenever a
user pans a web map in anticipation of using this source.

#### Parameters

| Parameter | Type |
| ------ | ------ |
| `bbox` | [`BBox`](../type-aliases/BBox.md) |

#### Returns

`Promise`\<`void`\>

Resolves when all requests are complete

#### Memberof

VectorDataSource

***

### prefetch()

```ts
prefetch(bbox, feature?): Promise<void>
```

Prefetch bundles for the given extent. If a Feature is provided, those
bundles that overlap will be prioritized for download first.

This operation is *not* effected by `hintPrefetchLimit`. It's best used in
situations where the datasource will be used for analysis in the immediate
future. For example, when a user has started to draw a feature of interest
which will be overlaid.

#### Parameters

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `bbox` | [`BBox`](../type-aliases/BBox.md) | - |
| `feature`? | [`Feature`](../interfaces/Feature.md)\<[`Geometry`](../type-aliases/Geometry.md), [`GeoJsonProperties`](../type-aliases/GeoJsonProperties.md)\> |  |

#### Returns

`Promise`\<`void`\>

#### Memberof

VectorDataSource

***

### clearRegisteredSources()

```ts
static clearRegisteredSources(): void
```

#### Returns

`void`

***

### getRegisteredSources()

```ts
static getRegisteredSources(): VectorDataSourceDetails[]
```

#### Returns

[`VectorDataSourceDetails`](../interfaces/VectorDataSourceDetails.md)[]

## Properties

### metadata?

```ts
optional metadata: DataSourceMetadata;
```

***

### options

```ts
options: VectorDataSourceOptions;
```
